<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml">

<!-- Link icon of fontawesome -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

<!-- Link icon of Bootstrap -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

<!-- Slick slider source CSS -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet">

<!-- Angular JS  -->

<!-- <script type="text/javascript" th:src="@{/js/book.js}"></script> -->

<link rel="stylesheet" href="/css/index.css">
<!-- <link rel="stylesheet" href="/css/home.css"> -->
<div th:replace="~{commons/head ::  head}"></div>

<body>
	<div th:replace="~{commons/navbar :: .navbar}"></div>

	<div class="container-fluid">
		<!-- carousel -->
		<div id="carouselHome" class="carousel slide" data-bs-ride="carousel">
			<ol class="carousel-indicators">
				<li data-bs-target="#carouselHome" data-bs-slide-to="0"
					class="active" aria-current="true" aria-label="First slide"></li>
				<li data-bs-target="#carouselHome" data-bs-slide-to="1"
					aria-label="Second slide"></li>
				<li data-bs-target="#carouselHome" data-bs-slide-to="2"
					aria-label="Third slide"></li>
			</ol>
			<div class="carousel-inner" role="listbox">
				<div class="carousel-item active">
					<img
						src="https://bookcart.themability.com/image/cache/catalog/banners/mainbanner2-1920x800.png"
						class="w-100 d-block" alt="First slide">
				</div>
				<div class="carousel-item">
					<img
						src="https://bookcart.themability.com/image/cache/catalog/banners/mainbanner2-1920x800.png"
						class="w-100 d-block" alt="Second slide">
				</div>
				<div class="carousel-item">
					<img
						src="https://bookcart.themability.com/image/cache/catalog/banners/mainbanner1-1920x800.png"
						class="w-100 d-block" alt="Third slide">
				</div>
			</div>
			<button class="carousel-control-prev" type="button"
				data-bs-target="#carouselHome" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button"
				data-bs-target="#carouselHome" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>
	</div>
	<div th:replace="~{commons/loading :: #loading}"></div>
	<div class="container p-3">
		<div class="row">
			<div class="col-lg-2 bg-light pt-5 bg-danger">
				<div th:replace="~{commons/category ::  #category}"></div>
			</div>
			<div class="main col-10 hide ">
				<!-- section book -->
				<section>
					<h4 class="text-center fw-bold fs-4 pt-4">Top sản phẩm</h4>

					<div class=" justify-content-between ms-0 pt-3">
						<div class="row">
							<div
								class="card col-12 col-md-3 mb-4 m-2 is-outline-gray border-0 "
								style="border-radius: 0 !important; width: 255px"
								th:each="book:${books}">
								<img class="card-img-top mt-3" th:src="${book.images[0].url}"
									alt="Title">
								<div class="card-body px-2">
									<a th:href="@{'/book?bookId='+${book.id}}"
										class="card-text text-decoration-none fw-bold text-dark">[[${book.name}]]</a>
								</div>
								<div class="ms-2">
									<i class="bi bi-star text-warning"></i> <i
										class="bi bi-star text-warning"></i> <i
										class="bi bi-star text-warning"></i> <i
										class="bi bi-star text-warning"></i> <i
										class="bi bi-star text-warning"></i>
								</div>
								<div
									class="card-footer border-top-0 d-flex justify-content-between px-2"
									style="background-color: transparent;">
									<!-- <span class="card-text fw-bold">[[${#strings.replace(#numbers.formatCurrency(book.price),'.00', '')}]] </span>  -->

									<div class="card-text fw-bold"
										th:text="${#numbers.formatDecimal(book.price, 0, 'COMMA', 2, 'POINT')} + '₫'"></div>

									<del class="text-Secondary">
										<span
											th:text="${#numbers.formatDecimal(book.discount, 0, 'COMMA', 2, 'POINT')} + '₫'"></span>
									</del>
								</div>
							</div>
						</div>
					</div>
					<nav aria-label="Page navigation example"
						class="d-flex justify-content-end">
						<ul class="pagination">
							<li class="page-item"><a class="page-link" href="/"
								aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
							</a></li>
							<li class="page-item" th:classappend="${index == i}?'active'"
								th:each="i:${#numbers.sequence(0, count)}"><a
								class="page-link" th:href="@{${i==0}? '/':'?index='+${i}}">[[${i+1}]]</a>
							</li>
							<li class="page-item"><a class="page-link"
								th:href="@{'?index='+${count}}" aria-label="Next"> <span
									aria-hidden="true">&raquo;</span>
							</a></li>
						</ul>
					</nav>
				</section>

			</div>
		</div>
	</div>
	<div class="container-fluid">
		<!-- section image -->
		<section class="row g-5 w-100 mb-5">
			<div class="col-7">
				<img class="img-fluid"
					src="https://bookcart.themability.com/image/catalog/banners/banner1.png"
					alt="">
			</div>
			<div class="col-2" style="flex: auto;">
				<img class="img-fluid"
					src="https://bookcart.themability.com/image/catalog/banners/banner2.png"
					alt="">
			</div>
			<div class="col-2" style="flex: auto; height: min-content;">
				<div class="row mb-4">
					<img class="img-fluid"
						src="https://bookcart.themability.com/image/catalog/banners/banner3.png"
						alt="">
				</div>
				<div class="row">
					<img class="img-fluid"
						src="https://bookcart.themability.com/image/catalog/banners/banner4.png"
						alt="">
				</div>
			</div>
		</section>
	</div>
	<div th:replace="~{commons/footer :: footer}"></div>
	<script type="text/javascript">
		let items = document.querySelectorAll('.carousel .carousel-item1')
		items.forEach((el) => {
			const minPerSlide = 4
			let next = el.nextElementSibling
			for (var i = 1; i < minPerSlide; i++) {
				if (!next) {
					// wrap carousel by using first child
					next = items[0]
				}
				let cloneChild = next.cloneNode(true)
				el.appendChild(cloneChild.children[0])
				next = next.nextElementSibling
			}
		})
		
		
	</script>

	<!-- Bootstrap JavaScript Libraries -->
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
		integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
		integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
		crossorigin="anonymous"></script>


</body>



</html>